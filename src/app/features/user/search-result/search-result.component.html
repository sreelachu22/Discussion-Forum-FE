<div class="container">
  <app-breadcrumbs [breadcrumbs]="breadcrumbs"></app-breadcrumbs>
  <br />

  <app-page-header
    pageHeaderTitle="Search Results"
    navClass="navbar navbar-dark bg-secondary Page_header"
    [showButton]="false"
  />

  <br />

  <div class="page_body mt-3">
    <div *ngIf="threads.length > 0">
      <div *ngFor="let thread of threads">
        <app-list
          (click)="navigateToThreadReplies(thread.threadID)"
          [sections]="[
            {
              title: 'Column 1',
              metadataItems: [
                { value: thread.createdByUser },
                { value: 'Asked ' + formatDate(thread.createdAt) },
                {
                  value:
                    '<b>' +
                    (thread.replyCount > 0
                      ? thread.replyCount + ' replies'
                      : '0 reply') +
                    '</b>',
                  isHtml: true
                },
                {
                  value:
                    'ğŸ¡¹ ' +
                    thread.upVoteCount +
                    '&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ğŸ¡» ' +
                    thread.downVoteCount,
                  isHtml: true
                }
              ]
            },
            {
              title: 'Column 2',
              metadataItems: [
                {
                  value:
                    thread.title.length > 45
                      ? thread.title.slice(0, 45) + '...'
                      : thread.title
                },
                {
                  value:
                    thread.content.length > 90
                      ? thread.content.slice(0, 90) + '...'
                      : thread.content,
                  isHtml: true
                },

                {
                  value:
                    'Tags : ' +
                    '<span>' +
                    thread.tagNames.join(',') +
                    '</span>',
                  isHtml: true
                }
              ]
            }
          ]"
        >
        </app-list>
      </div>
    </div>
    <div *ngIf="threads.length === 0">
      <p>No search results found.</p>
    </div>
  </div>
  <app-pagination
    [currentPage]="currentPage"
    [totalPages]="totalPages"
    (pageChange)="changePage($event)"
  ></app-pagination>
</div>

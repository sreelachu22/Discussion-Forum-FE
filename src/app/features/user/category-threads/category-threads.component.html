<!-- category-threads.component.html -->
<div class="container">
  <!-- bread crumbs -->
  <div class="top_nav">
    <div>
      <a href="/home_page" class="breadcrumb_navigation">Home</a>
      <span> > </span>
      <a href="/community_page" class="breadcrumb_navigation">Community</a>
      <span> > </span>
      <a href="/category_threads" class="breadcrumb_navigation">Category</a>
    </div>
    <!-- <div class="user_search">
      <input
        type="text"
        placeholder="Search"
        class="search_input"
        [(ngModel)]="searchTerm"
        (keyup.enter)="searchResult(searchTerm)"
      />
      <button
        type="submit"
        class="search_button"
        (click)="searchResult(searchTerm)"
      >
        Search
      </button>
      
    </div>
  </div> -->
    <!-- nav bar -->
    <!-- <div class="navbar navbar-dark bg-secondary categorythreads_header">
    <div class="navbar_container">
      <h1 class="header_text">{{ CategoryThreads.categoryName }}</h1>
      <p class="header_description">
        {{ CategoryThreads.categoryDescription }}
      </p>
    </div>
    <div class="navbar_buttons">
      <app-button
        buttonClass="button"
        buttonName="Create Post"
        buttonColor="rgb(31, 151, 145)"
        textColor="white"
        hoverColor="rgb(51, 171, 165)"
        hoverTextColor="white"
        (buttonClick)="createPost()"
      ></app-button>
    </div>
  </div> -->

    <app-page-header
      navClass="navbar navbar-dark bg-secondary Page_header"
      [pageHeaderTitle]="CategoryThreads.categoryName"
      (ButtonClick)="createPost()"
      ButtonName="Create Post"
    ></app-page-header>
    <!-- post displayed here -->
    <!-- <app-list
    *ngFor="let thread of CategoryThreads.threads"
    [createdBy]="thread.createdBy"
    [status]="thread.threadStatusName"
    [createdOn]="formatDate(thread.createdAt)"
    [post]="thread.content"
    [votes]="thread.voteCount"
    [tags]="thread.tagNames.join(', ')"
    [isAnswered]="thread.isAnswered"
  ></app-list> -->

    <div *ngFor="let thread of CategoryThreads.threads">
      <app-list
      (click)="navigateToThreadReplies(thread.threadID)"
        [sections]="[
          {
            title: 'Column 1',
            metadataItems: [
              { name: 'Created By', value: thread.createdBy },
              { name: 'Status', value: thread.threadStatusName },
              { name: 'Created At', value: formatDate(thread.createdAt) },
              { name: 'Votes', value: thread.voteCount }
            ]
          },
          {
            title: 'Column 2',
            metadataItems: [
              { name: 'Post', value: thread.content.slice(0, 200), isHtml: true},
              { name: 'Tags', value: thread.tagNames.join(', ') }
            ]
          },
          {
            title: 'Column 3',
            metadataItems: [{ name: 'Is Answered', value: thread.isAnswered }]
          }
        ]"
      >
      </app-list>
    </div>

    <!-- pagination ui -->
    <app-pagination
      [currentPage]="currentPage"
      [totalPages]="totalPages"
      (pageChange)="changePage($event)"
    ></app-pagination>
  </div>
</div>

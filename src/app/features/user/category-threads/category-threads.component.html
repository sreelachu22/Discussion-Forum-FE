<!-- category-threads.component.html -->
<div class="container">
  <div class="navbar navbar-dark bg-secondary categorythreads_header">
    <div class="navbar_container">
      <h1 class="header_text">{{ CategoryThreads.categoryName }}</h1>
      <p class="header_description">
        {{ CategoryThreads.categoryDescription }}
      </p>
    </div>
    <div class="navbar_buttons">
      <app-button
        buttonClass="btn btn-primary"
        buttonName="Create Post"
        (buttonClick)="createPost()"
      ></app-button>
    </div>
  </div>

  <app-list
    *ngFor="let thread of CategoryThreads.threads"
    [createdBy]="thread.createdBy"
    [status]="thread.threadStatusName"
    [createdOn]="formatDate(thread.createdAt)"
    [post]="thread.content"
    [votes]="thread.voteCount"
    [tags]="thread.tagNames.join(', ')"
    [isAnswered]="thread.isAnswered"
  ></app-list>

  <div class="pagination">
    <button
      (click)="previousPage()"
      [disabled]="currentPage === 1"
      *ngIf="currentPage > 1"
    >
      Previous
    </button>

    <ng-container *ngFor="let page of pages">
      <button (click)="goToPage(page)" [class.active]="currentPage === page">
        {{ page }}
      </button>
    </ng-container>

    <button
      (click)="nextPage()"
      [disabled]="currentPage === totalPages"
      *ngIf="currentPage < totalPages"
    >
      Next
    </button>
  </div>
</div>
